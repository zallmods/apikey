const { spawn } = require('child_process');

// Jalankan 'node index'
const indexProcess = spawn('node', ['bot'], { stdio: 'inherit' });

// Jalankan 'node tele'
const teleProcess = spawn('node', ['tele'], { stdio: 'inherit' });

// Jalankan 'node cek'
const cekProcess = spawn('node', ['cek'], { stdio: 'inherit' });

// Jalankan 'node bot'
const botProcess = spawn('node', ['index'], { stdio: 'inherit' });

teleProcess.on('close', (code) => {
  console.log(`tele.js exited with code ${code}`);
}); 

cekProcess.on('close', (code) => {
  console.log(`cekjs exited with code ${code}`);
});

// Kalau salah satu proses keluar, tampilkan info
indexProcess.on('close', (code) => {
  console.log(`index.js exited with code ${code}`);
});

botProcess.on('close', (code) => {
  console.log(`bot.js exited with code ${code}`);
});
